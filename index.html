<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playbook - MisiÃ³n 39</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .header {
            background-color: #5DADE2; /* Azul Gnius */
            color: white;
            padding: 15px;
            text-align: center;
            border-radius: 8px 8px 0 0;
        }
        .header h1 {
            margin: 0;
            font-size: 1.8em;
        }
        .banner {
            background-color: #85C1E9; /* Azul mÃ¡s claro */
            color: #333;
            padding: 15px;
            cursor: pointer;
            margin-bottom: 10px;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }
        .banner:hover {
            background-color: #AED6F1;
        }
        .banner .title {
            font-size: 1.3em;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .banner .subtitle {
            font-size: 1em;
            margin-top: 8px;
            border-top: 1px solid #fff;
            padding-top: 8px;
            color: #1A5276; /* Azul oscuro texto */
        }
        .content {
            display: none;
            padding: 15px;
            border: 1px solid #ddd;
            margin-bottom: 10px;
            background-color: #EAF2F8; /* Azul muy claro fondo */
            border-radius: 5px;
        }
        .dialogue {
            background-color: #FEF9E7; /* Amarillo pÃ¡lido para diÃ¡logo */
            border: 1px solid #FAD7A0;
            border-radius: 10px;
            padding: 10px 15px;
            margin: 15px 0;
            text-align: left; /* Cambiado a izquierda para mejor lectura */
            font-style: italic;
            color: #784212; /* MarrÃ³n oscuro texto */
            position: relative; /* Para el bocadillo */
            border-left: 5px solid #F39C12; /* Naranja */
        }

        .dropdown {
            margin-bottom: 25px;
            text-align: center; /* Centrar dropdown */
        }
        .dropdown label {
            font-weight: bold;
            color: #1A5276;
        }
        .dropdown select {
            font-size: 1.1em;
            padding: 8px 12px;
            margin-left: 10px;
            border-radius: 5px;
            border: 1px solid #85C1E9;
        }
        table { width: 100%; border-collapse: collapse; margin-top: 10px;}
        td { padding: 12px; border: 1px solid #AED6F1; vertical-align: top; }
        td strong { color: #1A5276; }
        .level-title { /* Clase especÃ­fica para el tÃ­tulo del nivel */
             text-align: center;
             color: #5DADE2;
             font-size: 1.4em;
             margin-bottom: 20px;
        }
        /* Clases para ocultar/mostrar contenido por nivel */
        .k1-content, .k2-content, .k3-content { display: none; }
         .activity.active .banner {
             background-color: #AED6F1; /* Slightly different color when active */
         }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Playbook - MisiÃ³n 39: Â¡El Rescate del LumiPuff Perdido!</h1>
        </div>

        <div class="dropdown">
            <label for="class-level">Nivel:</label>
            <select id="class-level" onchange="updateContent()">
                <option value="K1">K1 (3 aÃ±os)</option>
                <option value="K2">K2 (4 aÃ±os)</option>
                <option value="K3">K3 (5 aÃ±os)</option>
            </select>
        </div>

        <h2 id="selected-level" class="level-title">Nivel: K1 (3 aÃ±os)</h2>

        <!-- ............................................AquÃ­ empezarÃ¡n las actividades........................................... -->

<!-- Actividad 0: RevisiÃ³n de Materiales -->
<div id="activity-0" class="activity">
    <div class="banner" onclick="toggleContent('revision_materiales')">
        <div class="title">ğŸ“š Actividad 0: RevisiÃ³n de Materiales</div>
        <div class="subtitle">Objetivo: Asegurarse de que todos los materiales necesarios para la clase estÃ©n disponibles y preparados antes de que lleguen los niÃ±os.</div>
    </div>
    <div id="revision_materiales" class="content">
        <table>
            <tr>
                <td><strong>PASO 1 (N/A):</strong> Revisa que tengas listos los materiales indicados en la **DIAPOSITIVA 1**: 1 Set LEGO Coding Express (tren, vÃ­as rectas/curvas, 1-2 vÃ­as Y, vÃ­as para O-loop, 5+ ladrillos acciÃ³n) y 10 iBricks por cada pareja. Un objeto pequeÃ±o/peluche para representar al "LumiPuff".</td>
                <td><strong>DIÃLOGO SUGERIDO:</strong> N/A</td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 1: Bienvenida e IntroducciÃ³n -->
<div id="activity-1" class="activity">
    <div class="banner" onclick="toggleContent('bienvenida')">
        <div class="title">ğŸ‰ Actividad 1: Â¡Alerta de Rescate! â° Tiempo: 1 minuto</div>
        <div class="subtitle">Objetivo: Introducir la emociÃ³n de una misiÃ³n de rescate y la necesidad de usar todas las habilidades aprendidas.</div>
    </div>
    <div id="bienvenida" class="content">
        <table>
            <tr>
                <td><strong>PASO 1 (0.5 minutos):</strong> Reproduce la **DIAPOSITIVA 2** â€œBienvenidaâ€. Saluda al CODE SQUAD con tono de urgencia y habla sobre misiones de rescate.</td>
                <td>
                    <div class="dialogue">
                        "Â¡CODE SQUAD, alerta roja! Â¡Alerta roja! Â¡Tenemos una emergencia! Â¿Saben quÃ© es un rescate? Â¡Es cuando alguien necesita ayuda urgente y los hÃ©roes valientes van a salvarlo! Â¡Hoy, nos necesitan para la misiÃ³n de rescate mÃ¡s importante de todas!"
                    </div>
                </td>
            </tr>
            <tr>
                <td><strong>PASO 2 (0.5 minutos):</strong> Reproduce la **DIAPOSITIVA 3** "Gimnasio CODE SQUAD". Explica que los rescates son complejos y requieren usar todo lo aprendido: seguir caminos, tomar decisiones, repetir acciones.</td>
                <td>
                     <div class="dialogue">
                        "Â¡Los rescates no son fÃ¡ciles! Â¡Requieren que usemos TODO lo que hemos aprendido! Seguir secuencias largas, tomar decisiones en cruces de caminos, repetir seÃ±ales... Â¡Nuestro cerebro debe estar sÃºper concentrado y listo para todo! Â¡Vamos al Gimnasio Cerebral para un Ãºltimo entrenamiento intensivo antes de la gran misiÃ³n!"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 2: Baile de Algoritmos -->
<div id="activity-2" class="activity">
    <div class="banner" onclick="toggleContent('baile-algoritmos')">
        <div class="title">ğŸ¶ Actividad 2: Baile de Algoritmos â° Tiempo: 2 minutos</div>
        <div class="subtitle">Objetivo: Practicar una secuencia compleja que integre diferentes tipos de movimientos o pasos.</div>
    </div>
    <div id="baile-algoritmos" class="content">
        <table>
            <tr>
                <td><strong>PASO 1 (2 minutos):</strong> Reproduce la **DIAPOSITIVA 4** â€œBaile de Algoritmosâ€. GuÃ­a el baile, usando una secuencia mÃ¡s larga y variada que combine giros, repeticiones y direcciones.</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Este es el Baile del Rescate! Â¡Tiene muchos pasos diferentes! Â¡Adelante, giro, repite dos veces, ahora al otro lado! Â¡Hay que estar muy atentos a la secuencia completa! Â¡AsÃ­ practicamos para la compleja ruta de rescate!"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 3: Planteamiento del Problema - Â¡El LumiPuff Atrapado! -->
<div id="activity-3" class="activity">
    <div class="banner" onclick="toggleContent('planteamiento-problema')">
        <div class="title">ğŸ†˜ Actividad 3: Â¡Hay que Salvar al LumiPuff! â° Tiempo: 3 minutos</div>
        <div class="subtitle">Objetivo: Presentar la historia del LumiPuff, la ruta compleja con decisiones (Y) y/o repeticiones (O-loop) y el reto de planificar y ejecutar el rescate.</div>
    </div>
    <div id="planteamiento-problema" class="content">
        <table>
            <tr>
                <td><strong>PASO 1 (1.5 minutos):</strong> Reproduce la **DIAPOSITIVA 5**. Narra la historia del LumiPuff, una criatura adorable y brillante, atrapada en un lugar de difÃ­cil acceso.</td>
                <td>
                     <div class="dialogue">
                        "Â¡Escuchen, CODE SQUAD! En las lejanas MontaÃ±as Brillantes vive el LumiPuff, Â¡una criatura sÃºper suave y adorable que brilla con luz propia! Pero Â¡oh, no! Jugando cerca de los acantilados, Â¡el pequeÃ±o LumiPuff resbalÃ³ y quedÃ³ atrapado en una repisa muy alta y peligrosa! (Muestra el objeto/peluche). Â¡EstÃ¡ asustado y no puede bajar solo!"
                    </div>
                </td>
            </tr>
            <tr>
                <td><strong>PASO 2 (1.5 minutos):</strong> Reproduce la **DIAPOSITIVA 6**. Explica el reto: planificar y construir la ruta de rescate para el Coding Express, que incluirÃ¡ decisiones (Y-track para elegir el camino correcto o evitar un obstÃ¡culo), y/o acciones repetitivas (O-loop para seÃ±alizar), usando ladrillos de acciÃ³n y bloques para el escenario.</td>
                <td>
                     <div class="dialogue">
                        "Â¡Nosotros somos su Ãºnica esperanza! Â¡Nuestra misiÃ³n es guiar al Coding Express, nuestro vehÃ­culo de rescate, hasta la repisa para salvar al LumiPuff! Â¡Pero el camino es complicado! Tendremos que: **Planear la ruta:** Mirar el mapa (lo crearemos juntos) y decidir el camino. **Construir la vÃ­a:** Â¡Usaremos rectas, curvas y quizÃ¡s vÃ­as especiales como la 'Y' para tomar decisiones o el 'O-loop' para hacer seÃ±ales repetitivas! **Codificar las acciones:** Pondremos ladrillos de acciÃ³n para superar obstÃ¡culos, hacer seÃ±ales al LumiPuff o activar un 'brazo rescatador' imaginario al llegar. **Construir el escenario:** Â¡Usaremos bloques para hacer la montaÃ±a, la repisa donde estÃ¡ atrapado el LumiPuff y quizÃ¡s algÃºn obstÃ¡culo! Â¡Es nuestra misiÃ³n mÃ¡s compleja y emocionante! Â¿Aceptan el desafÃ­o?"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 4: FormaciÃ³n de Parejas -->
<div id="activity-4" class="activity">
    <div class="banner" onclick="toggleContent('formacion-parejas')">
        <div class="title">ğŸ¤ Actividad 4: Â¡Equipos de Rescate de Ã‰lite! â° Tiempo: 3 minutos</div>
        <div class="subtitle">Objetivo: Formar parejas para planificar, construir y ejecutar la compleja misiÃ³n de rescate.</div>
    </div>
    <div id="formacion-parejas" class="content">
        <table>
            <tr>
                <td><strong>PASO 1 (2 minutos):</strong> Reproduce la **DIAPOSITIVA 7** â€œFormaciÃ³n de Equiposâ€. Explica que las misiones de rescate mÃ¡s difÃ­ciles requieren la mejor coordinaciÃ³n y planificaciÃ³n en equipo. Forma las parejas.</td>
                <td>
                     <div class="dialogue">
                        "Â¡Las misiones de rescate son para los equipos mÃ¡s valientes y coordinados! Â¡Cada decisiÃ³n cuenta, cada pieza debe estar en su lugar! Â¡Dos cabezas planean mejor una ruta de rescate que una! Â¡Formen sus Equipos de Rescate de Ã‰lite!"
                    </div>
                </td>
            </tr>
            <tr>
                <td><strong>PASO 2 (1 minuto):</strong> Verifica que todos tengan pareja. AnÃ­males a discutir su plan inicial: Â¿cÃ³mo serÃ¡ la montaÃ±a? Â¿quÃ© peligros habrÃ¡? Â¿cÃ³mo usarÃ¡n las vÃ­as especiales?</td>
                <td>
                     <div class="dialogue">
                        "Â¿Listos, Equipos de Rescate? Â¡Hablen con su compaÃ±ero! Â¿CÃ³mo serÃ¡ la montaÃ±a? Â¿Alta? Â¿Rocosa? Â¿HabrÃ¡ un rÃ­o que cruzar (vÃ­a Y)? Â¿NecesitarÃ¡n hacer seÃ±ales de luces o sonidos (vÃ­a O)? Â¡Empiecen a planear su estrategia de rescate!"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 5: Reto de CodificaciÃ³n - Â¡Planifica y Construye la Ruta de Rescate! -->
<div id="activity-5" class="activity">
    <div class="banner" onclick="toggleContent('reto-codificacion')">
        <div class="title">ğŸ—ºï¸ Actividad 5: Â¡DiseÃ±ando y Construyendo el Rescate! â° Tiempo: 10 minutos</div>
        <div class="subtitle">Objetivo: Planificar la secuencia compleja de la misiÃ³n en papel/discusiÃ³n. Construir la vÃ­a integrando Y-tracks y/o O-loops. Colocar ladrillos de acciÃ³n y construir el escenario con iBricks.</div>
    </div>
    <div id="reto-codificacion" class="content">
        <table>
             <!-- Paso 1: PlanificaciÃ³n Detallada -->
             <tr>
                <td><strong>PASO 1 (4 minutos):</strong> Reproduce la **DIAPOSITIVA 8** "Â¡Plan Maestro de Rescate!". Pide que dibujen o discutan detalladamente su plan: la ruta exacta, dÃ³nde irÃ¡n las vÃ­as Y/O, quÃ© ladrillos usarÃ¡n y para quÃ©, cÃ³mo construirÃ¡n la montaÃ±a/repisa/obstÃ¡culos.</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Equipos, saquen sus planos secretos! Â¡O hablen muy bien su estrategia! Â¿Por dÃ³nde empezarÃ¡ el tren? Â¿CuÃ¡ndo llegarÃ¡ a la divisiÃ³n 'Y'? Â¿QuÃ© camino tomarÃ¡? Â¿DÃ³nde estarÃ¡ el bucle 'O' para hacer seÃ±ales? Â¿QuÃ© ladrillos usarÃ¡n para sonar, iluminar, parar o evitar peligros? Â¿CÃ³mo harÃ¡n la montaÃ±a y la repisa con los bloques? Â¡Detallen bien su Plan Maestro de Rescate!"
                    </div>
                </td>
            </tr>
            <!-- Paso 2: ConstrucciÃ³n (EspecÃ­fico por Nivel) -->
             <!-- K1 -->
            <tr class="k1-content">
                <td><strong>PASO 2 - K1 (6 minutos):</strong> Reproduce la **DIAPOSITIVA 9** "Ruta K1: DecisiÃ³n Simple". GuÃ­a para construir ruta con 1 Y-track (elegir camino correcto). Secuencia total de 5-6 pasos/acciones. Usar iBricks para montaÃ±a simple y repisa con LumiPuff.</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Equipo K1! Â¡Construyan su ruta! Usen la vÃ­a 'Y' para decidir el camino correcto a la montaÃ±a. Â¡QuizÃ¡s un camino estÃ¡ bloqueado por rocas (bloques)! Programen unos 5 o 6 pasos en total con ladrillos de acciÃ³n para llegar hasta la repisa (hecha con bloques) donde estÃ¡ el LumiPuff. Â¡Coloquen al LumiPuff arriba!"
                    </div>
                </td>
            </tr>
             <!-- K2 -->
             <tr class="k2-content">
                 <td><strong>PASO 2 - K2 (6 minutos):</strong> Reproduce la **DIAPOSITIVA 10** "Ruta K2: SeÃ±ales en Bucle". GuÃ­a para construir ruta con 1 Y-track Y 1 O-loop. El bucle podrÃ­a ser para hacer seÃ±ales (sonar/luz) repetidamente antes de seguir. Secuencia total 8-10 pasos/acciones. MontaÃ±a/repisa mÃ¡s elaborada.</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Rescatadores K2! Â¡Su ruta necesita una decisiÃ³n (vÃ­a 'Y') Y un bucle de seÃ±ales (vÃ­a 'O')! QuizÃ¡s deban dar vueltas haciendo luces (Blanco) en el bucle para que el LumiPuff los vea, Â¡antes de tomar la vÃ­a 'Y' correcta! Planean una secuencia de 8 a 10 pasos en total. Â¡Construyan la montaÃ±a y la repisa con mÃ¡s detalle usando los bloques! Â¡Pongan al LumiPuff!"
                    </div>
                </td>
            </tr>
             <!-- K3 -->
             <tr class="k3-content">
                 <td><strong>PASO 2 - K3 (6 minutos):</strong> Reproduce la **DIAPOSITIVA 11** "Ruta K3: MisiÃ³n Compleja". GuÃ­a para construir ruta combinando 2 Y-tracks O 1 Y-track + 1 O-loop, con secuencias mÃ¡s largas o lÃ³gica mÃ¡s compleja (ej. acciÃ³n para "quitar" obstÃ¡culo). 10+ pasos/acciones. Escenario detallado.</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Ã‰lite K3! Â¡Su misiÃ³n es la mÃ¡s compleja! Usen dos vÃ­as 'Y' para mÃºltiples decisiones, O combinen una 'Y' con un bucle 'O'. Â¡Necesitan mÃ¡s de 10 pasos! QuizÃ¡s una acciÃ³n (ej. Ladrillo Verde) 'activa un puente' imaginario para cruzar un abismo (espacio entre vÃ­as). Â¡Sean creativos! Construyan una montaÃ±a impresionante y la repisa del LumiPuff con los bloques. Â¡Que se vea el peligro y la emociÃ³n!"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 6: Â¡Ejecutando el Rescate! -->
<div id="activity-6" class="activity">
    <div class="banner" onclick="toggleContent('probando-rescate')">
        <div class="title">ğŸš€ Actividad 6: Â¡Al Rescate del LumiPuff! â° Tiempo: 10 minutos</div>
        <div class="subtitle">Objetivo: Ejecutar la misiÃ³n de rescate completa, tomando decisiones en las vÃ­as Y (moviendo aguja), observando acciones en bucles O, y verificando si el tren llega al destino final.</div>
    </div>
    <div id="probando-rescate" class="content">
        <table>
             <!-- K1 -->
            <tr class="k1-content">
                <td><strong>PASO 1 - K1 (10 minutos):</strong> Reproduce la **DIAPOSITIVA 12** "Â¡Rescate K1 en AcciÃ³n!". GuÃ­a: Poner tren al inicio. Empujar. Llegar a Y-track. Preguntar: "Â¿QuÃ© camino?". Mover aguja. Observar secuencia hasta la repisa. Â¿LlegÃ³? Â¡Celebrar rescate!</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Equipo K1, comienza el rescate! Â¡Tren listo! Â¡EmpujÃ³n! Â¡Avanza! Â¡Oh, la divisiÃ³n 'Y'! Â¿QuÃ© camino tomarÃ¡ para llegar al LumiPuff? (Eligen). Â¡Movemos la palanca! Â¡Sigue, tren, sigue! Â¿LlegÃ³ a la repisa? Â¿CompletÃ³ sus 5-6 pasos? Â¡SIIII! Â¡El LumiPuff estÃ¡ a salvo! Â¡Abracen a su LumiPuff rescatado!"
                    </div>
                </td>
            </tr>
             <!-- K2 -->
             <tr class="k2-content">
                 <td><strong>PASO 1 - K2 (10 minutos):</strong> Reproduce la **DIAPOSITIVA 13** "Â¡Rescate K2 con SeÃ±ales!". GuÃ­a: Ejecutar. Observar acciones en bucle O (si lo usaron para seÃ±alizar). Llegar a Y-track, decidir, mover aguja. Seguir secuencia hasta la repisa (8-10 pasos). Â¿LlegÃ³? Â¡Celebrar!</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Rescatadores K2, misiÃ³n en marcha! Â¡Empujen el tren! Miren, Â¿estÃ¡ haciendo las seÃ±ales en el bucle 'O'? Â¡Pip-pip-luz, pip-pip-luz! Â¡El LumiPuff ya sabe que vienen! Â¡Ahora la divisiÃ³n 'Y'! Â¿QuÃ© camino es el correcto? (Eligen). Â¡Movemos la palanca! Â¡Sigue la ruta! Â¿CompletÃ³ los 8-10 pasos? Â¿LlegÃ³ a la repisa? Â¡INCREÃBLE! Â¡Rescate exitoso con seÃ±ales y decisiÃ³n!"
                    </div>
                </td>
            </tr>
             <!-- K3 -->
             <tr class="k3-content">
                 <td><strong>PASO 1 - K3 (10 minutos):</strong> Reproduce la **DIAPOSITIVA 14** "Â¡Rescate K3: MisiÃ³n Maestra!". GuÃ­a: Ejecutar la secuencia compleja (10+ pasos). Tomar decisiones en las Y-tracks, observar acciones en bucles, verificar lÃ³gica (acciÃ³n que "quita" obstÃ¡culo). Â¿LlegÃ³ al LumiPuff? Â¡Celebrar la operaciÃ³n compleja!</td>
                 <td>
                     <div class="dialogue">
                        "Â¡Ã‰lite K3, operaciÃ³n rescate iniciada! Â¡Empujen el tren! Â¡Sigan la secuencia larga y compleja! Â¿DecisiÃ³n 1 en la 'Y'? (Mueven palanca). Â¿AcciÃ³n en el bucle? Â¿DecisiÃ³n 2 en la otra 'Y'? (Mueven palanca). Â¿El ladrillo Verde 'activÃ³ el puente'? Â¡Miren cÃ³mo avanza! Â¿CompletÃ³ los 10 o mÃ¡s pasos? Â¿LlegÃ³ a la repisa final? Â¡ASOMBROSO! Â¡Han completado la misiÃ³n de rescate mÃ¡s difÃ­cil! Â¡El LumiPuff les da las gracias!"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

<!-- Actividad 7 OMITIDA -->

<!-- Actividad 8: ConclusiÃ³n y ReflexiÃ³n -->
<div id="activity-8" class="activity">
    <div class="banner" onclick="toggleContent('conclusion-reflexion')">
        <div class="title">ğŸ Actividad 8: Â¡HÃ©roes del CODE SQUAD! â° Tiempo: 5 minutos</div>
        <div class="subtitle">Objetivo: Celebrar el Ã©xito del rescate complejo, reforzar la integraciÃ³n de secuenciaciÃ³n, condicionales (Y-track), bucles (O-track) y resoluciÃ³n de problemas.</div>
    </div>
    <div id="conclusion-reflexion" class="content">
        <table>
            <tr>
                <td><strong>PASO 1 (5 minutos):</strong> Reproduce la **DIAPOSITIVA 15** "Â¡MisiÃ³n Cumplida!". ReÃºne al grupo, felicita por el heroico rescate. Realiza preguntas sobre la combinaciÃ³n de herramientas y habilidades.</td>
                <td>
                    <div class="dialogue">
                        "Â¡LO HAN LOGRADO, HÃ‰ROES DEL CODE SQUAD! Â¡El LumiPuff estÃ¡ sano y salvo gracias a su valentÃ­a, inteligencia y trabajo en equipo! Â¡Han completado la misiÃ³n de rescate mÃ¡s desafiante! Â¡MisiÃ³n SÃšPER CUMPLIDA! Pensemos en esta gran hazaÃ±a:
1. Â¿Tuvimos que hacer solo una cosa o muchas cosas diferentes para rescatar al LumiPuff? (Â¡Muchas! Â¡Seguir camino, decidir, repetir seÃ±ales!)
2. Â¿Usamos diferentes piezas de vÃ­a especiales hoy? (Â¡SÃ­! Â¡La 'Y' para decidir, la 'O' para repetir!)
3. Â¿Fue importante planear toda la ruta antes de empezar? (Â¡SÃ­, porque era larga y compleja!)
Â¡Hoy demostraron que pueden combinar TODO lo que hemos aprendido! Usaron secuencias largas, tomaron decisiones con la vÃ­a 'Y', repitieron acciones con la vÃ­a 'O', y resolvieron un problema complicado. Â¡Son verdaderos maestros de la codificaciÃ³n y hÃ©roes de rescate! Â¡Estoy increÃ­blemente orgulloso de ustedes! Â¡Hasta la prÃ³xima aventura!"
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

        <!-- ............................................AquÃ­ terminarÃ¡n las actividades........................................... -->

    </div>

<script>
    function toggleContent(id) {
        var content = document.getElementById(id);
        var parentActivity = content.closest('.activity'); // Encuentra el contenedor de la actividad
        if (content.style.display === "block") {
            content.style.display = "none";
            parentActivity.classList.remove('active'); // Remueve clase activa si se cierra
        } else {
             // Opcional: Cierra otros contenidos abiertos antes de abrir uno nuevo
             // closeAllContents();
            content.style.display = "block";
            parentActivity.classList.add('active'); // AÃ±ade clase activa si se abre
        }
    }

    // FunciÃ³n opcional para cerrar todos los demÃ¡s contenidos al abrir uno
    /*
    function closeAllContents() {
        var allContents = document.querySelectorAll('.content');
        var allActivities = document.querySelectorAll('.activity');
        allContents.forEach(function(content) {
            content.style.display = 'none';
        });
         allActivities.forEach(function(activity) {
             activity.classList.remove('active');
         });
    }
    */

    function updateContent() {
        var level = document.getElementById("class-level").value;
        // Actualiza el texto del tÃ­tulo H2
        var levelText = document.getElementById("class-level").options[document.getElementById("class-level").selectedIndex].text;
        document.getElementById("selected-level").innerText = "Nivel: " + levelText;

        // Oculta todas las filas de contenido especÃ­fico de nivel primero
        var k1Contents = document.querySelectorAll('.k1-content');
        var k2Contents = document.querySelectorAll('.k2-content');
        var k3Contents = document.querySelectorAll('.k3-content');

        k1Contents.forEach(function(el) { el.style.display = 'none'; });
        k2Contents.forEach(function(el) { el.style.display = 'none'; });
        k3Contents.forEach(function(el) { el.style.display = 'none'; });

        // Muestra solo las filas del nivel seleccionado
        // Usamos 'table-row' porque estamos mostrando/ocultando filas de tabla (<tr>)
        var selectedContents = document.querySelectorAll('.' + level.toLowerCase() + '-content');
        selectedContents.forEach(function(el) {
             // Importante: Necesitamos asegurarnos de que el display sea correcto para filas de tabla
             if (el.tagName === 'TR') {
                 el.style.display = 'table-row';
             } else {
                 // Si por alguna razÃ³n hay otros elementos, usar 'block' o ajustar segÃºn sea necesario
                 el.style.display = 'block';
             }
        });
    }

    // Asegura que updateContent se ejecute cuando la pÃ¡gina cargue
    document.addEventListener('DOMContentLoaded', function() {
        updateContent();
    });
</script>

</body>
</html>